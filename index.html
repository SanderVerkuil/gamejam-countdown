<!DOCTYPE html>
<html>
<head>
  <title>GameJam Countdown</title>
  <link rel="stylesheet" href="site.css" />
</head>
<body>

<div id="time"><span class="days"></span> <span class="hours"></span>:<span class="minutes"></span>:<span class="seconds"></span></div>

<script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
<script src="http://code.jquery.com/jquery-1.11.1.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/moment.min.js"></script>

<script>
var socket = io();
socket.on('tick', function(timeLeft) {
  console.log(timeLeft.percentage);
  var start = moment(timeLeft.start);
  var end = moment(timeLeft.end);
  t = end.diff(start);
  var seconds = Math.floor( (t/1000) % 60 );
  var minutes = Math.floor( (t/1000/60) % 60 );
  var hours = Math.floor( (t/(1000*60*60)) % 24 );
  var days = Math.floor( t/(1000*60*60*24) );
  var info = {
    'total': t,
    'days': days,
    'hours': hours,
    'minutes': minutes,
    'seconds': seconds
  };
  $(".days").html(days);
  $(".hours").html(zeroPad(hours, 2));
  $(".minutes").html(zeroPad(minutes, 2));
  $(".seconds").html(zeroPad(seconds, 2));
});

function zeroPad(num, places) {
  var zero = places - num.toString().length+1;
  return Array(+(zero > 0 && zero)).join("0") + num;
}
</script>
</body>
</html>
